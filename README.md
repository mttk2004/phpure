# phpure

phpure lÃ  má»™t framework MVC Ä‘Æ¡n giáº£n Ä‘Æ°á»£c viáº¿t báº±ng PHP Ä‘á»ƒ giÃºp ngÆ°á»i má»›i há»c vÃ  khÃ¡m phÃ¡ cÃ¡ch hoáº¡t
Ä‘á»™ng bÃªn trong cá»§a má»™t á»©ng dá»¥ng web theo mÃ´ hÃ¬nh MVC.

---

## **Gáº·p Gá»¡ phpure** ğŸŒŸ

NgoÃ i kia, cÃ³ ráº¥t nhiá»u framework PHP máº¡nh máº½ nhÆ° Laravel, Symfony, CodeIgniter, Zend, Yii vÃ  nhiá»u framework khÃ¡c ná»¯a. Nhá»¯ng cÃ´ng cá»¥ nÃ y mang Ä‘áº¿n vÃ´ vÃ n tÃ­nh nÄƒng há»¯u Ã­ch, giÃºp viá»‡c phÃ¡t triá»ƒn á»©ng dá»¥ng web trá»Ÿ nÃªn nhanh chÃ³ng vÃ  dá»… dÃ ng hÆ¡n bao giá» háº¿t. Tuy nhiÃªn, Ä‘á»‘i vá»›i nhá»¯ng ngÆ°á»i má»›i báº¯t Ä‘áº§u há»c PHP, viá»‡c tiáº¿p cáº­n cÃ¡c framework lá»›n thÆ°á»ng lÃ  má»™t thá»­ thÃ¡ch khÃ´ng nhá». CÃ¡c khÃ¡i niá»‡m phá»©c táº¡p vÃ  há»‡ thá»‘ng tÃ­nh nÄƒng Ä‘á»“ sá»™ Ä‘Ã´i khi cÃ³ thá»ƒ khiáº¿n há» cáº£m tháº¥y choÃ¡ng ngá»£p, tháº­m chÃ­ lÃ m giáº£m há»©ng thÃº há»c táº­p. Báº£n thÃ¢n tÃ´i cÅ©ng tá»«ng tráº£i qua cáº£m giÃ¡c nÃ y khi láº§n Ä‘áº§u lÃ m quen vá»›i [Laravel](https://laravel.com). Vá»›i má»™t ngÆ°á»i má»›i nhÆ° tÃ´i thá»i Ä‘iá»ƒm Ä‘Ã³, Laravel dÆ°á»ng nhÆ° lÃ  má»™t tháº¿ giá»›i Ä‘áº§y "phÃ©p thuáº­t" khÃ³ hiá»ƒu vÃ  Ä‘Ã²i há»i nhiá»u ná»— lá»±c Ä‘á»ƒ chinh phá»¥c.

VÃ o Ä‘áº§u nÄƒm 2025, khi bÆ°á»›c vÃ o há»c ká»³ má»›i, tÃ´i cÃ³ cÆ¡ há»™i tham gia má»™t mÃ´n há»c ráº¥t thÃº vá»‹ mang tÃªn "Láº­p trÃ¬nh Web vÃ  á»¨ng dá»¥ng nÃ¢ng cao". Má»™t trong nhá»¯ng yÃªu cáº§u quan trá»ng cá»§a mÃ´n há»c lÃ  xÃ¢y dá»±ng má»™t á»©ng dá»¥ng web PHP thuáº§n tÃºy (Pure PHP) theo mÃ´ hÃ¬nh MVC mÃ  khÃ´ng Ä‘Æ°á»£c sá»­ dá»¥ng báº¥t ká»³ framework lá»›n nÃ o nhÆ° Laravel. ÄÃ¢y lÃ  má»™t bÃ i táº­p cÃ³ Ã½ nghÄ©a nháº±m giÃºp chÃºng tÃ´i hiá»ƒu rÃµ cÃ¡ch cÃ¡c thÃ nh pháº§n cá»§a á»©ng dá»¥ng web hoáº¡t Ä‘á»™ng tá»« gá»‘c rá»…. Nháº­n tháº¥y Ä‘Ã¢y lÃ  cÆ¡ há»™i tuyá»‡t vá»i Ä‘á»ƒ há»c há»i vÃ  thá»­ nghiá»‡m, tÃ´i Ä‘Ã£ quyáº¿t Ä‘á»‹nh báº¯t tay vÃ o phÃ¡t triá»ƒn `phpure` â€” má»™t framework PHP Ä‘Æ¡n giáº£n, gá»n nháº¹ nhÆ°ng Ä‘á»§ máº¡nh máº½ Ä‘á»ƒ há»— trá»£ ngÆ°á»i má»›i báº¯t Ä‘áº§u dá»… dÃ ng náº¯m báº¯t cÃ¡ch xÃ¢y dá»±ng á»©ng dá»¥ng web theo mÃ´ hÃ¬nh MVC.

TÃ´i lÃ  [Mai Tráº§n Tuáº¥n Kiá»‡t](https://github.com/mttk2004), má»™t sinh viÃªn chuyÃªn ngÃ nh PhÃ¡t triá»ƒn Web, vÃ  `phpure` chÃ­nh lÃ  dá»± Ã¡n mÃ£ nguá»“n má»Ÿ Ä‘áº§u tay cá»§a tÃ´i. TÃ´i ráº¥t vui má»«ng Ä‘Æ°á»£c chia sáº» dá»± Ã¡n nÃ y vá»›i cá»™ng Ä‘á»“ng.

Äiá»u Ä‘áº·c biá»‡t á»Ÿ `phpure` lÃ  nÃ³ Ä‘Æ°á»£c thiáº¿t káº¿ hÆ°á»›ng Ä‘áº¿n Ä‘á»‘i tÆ°á»£ng ngÆ°á»i má»›i há»c. Framework nÃ y mang tÃ­nh Ä‘Æ¡n giáº£n, trá»±c quan, dá»… hiá»ƒu vÃ  dá»… sá»­ dá»¥ng. Náº¿u báº¡n Ä‘ang tÃ¬m hiá»ƒu vá» PHP hoáº·c muá»‘n hiá»ƒu cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a má»™t á»©ng dá»¥ng web theo mÃ´ hÃ¬nh MVC, `phpure` cháº¯c cháº¯n sáº½ lÃ  má»™t cÃ´ng cá»¥ há»¯u Ã­ch. HÆ¡n ná»¯a, náº¿u sau nÃ y báº¡n cÃ³ Ã½ Ä‘á»‹nh há»c cÃ¡c framework lá»›n nhÆ° Laravel, viá»‡c hiá»ƒu rÃµ cÃ¡ch váº­n hÃ nh cá»§a `phpure` sáº½ giÃºp báº¡n cÃ³ ná»n táº£ng vá»¯ng cháº¯c Ä‘á»ƒ tiáº¿p cáº­n nhá»¯ng khÃ¡i niá»‡m nÃ¢ng cao hÆ¡n. Tháº­t váº­y, `phpure` Ä‘Æ°á»£c láº¥y cáº£m há»©ng tá»« cáº¥u trÃºc cá»§a Laravel nhÆ°ng Ä‘Æ°á»£c tá»‘i giáº£n hÃ³a Ä‘á»ƒ phÃ¹ há»£p hÆ¡n vá»›i nhá»¯ng ngÆ°á»i má»›i báº¯t Ä‘áº§u. LÃ  má»™t ngÆ°á»i yÃªu thÃ­ch Laravel, tÃ´i Ä‘Ã£ cá»‘ gáº¯ng mang nhá»¯ng yáº¿u tá»‘ tinh táº¿ nháº¥t cá»§a framework nÃ y vÃ o `phpure` Ä‘á»ƒ mang Ä‘áº¿n tráº£i nghiá»‡m há»c táº­p vÃ  láº­p trÃ¬nh tá»‘t nháº¥t.

KhÃ´ng chá»‰ giá»›i háº¡n á»Ÿ cÃ¡c á»©ng dá»¥ng web Ä‘Æ¡n giáº£n, `phpure` cÃ²n cÃ³ kháº£ nÄƒng má»Ÿ rá»™ng vÃ  tÃ¹y chá»‰nh linh hoáº¡t Ä‘á»ƒ phÃ¹ há»£p vá»›i nhu cáº§u phÃ¡t triá»ƒn cá»§a báº¡n. TÃ´i tin ráº±ng, vá»›i má»™t cÃ´ng cá»¥ nhÆ° `phpure`, hÃ nh trÃ¬nh há»c há»i vÃ  xÃ¢y dá»±ng á»©ng dá»¥ng web cá»§a báº¡n sáº½ trá»Ÿ nÃªn dá»… dÃ ng vÃ  thÃº vá»‹ hÆ¡n ráº¥t nhiá»u.

HÃ£y thá»­ khÃ¡m phÃ¡ `phpure` ngay hÃ´m nay vÃ  cÃ¹ng nhau táº¡o nÃªn nhá»¯ng á»©ng dá»¥ng web tuyá»‡t vá»i! ğŸŒŸ

---

## **Báº¯t Äáº§u** ğŸš€

### **1. HÆ°á»›ng Dáº«n CÃ i Äáº·t** ğŸ“¥

#### **YÃªu Cáº§u Há»‡ Thá»‘ng**

TrÆ°á»›c khi báº¯t Ä‘áº§u cÃ i Ä‘áº·t vÃ  sá»­ dá»¥ng `phpure`, hÃ£y Ä‘áº£m báº£o ráº±ng mÃ´i trÆ°á»ng lÃ m viá»‡c cá»§a báº¡n Ä‘Ã¡p á»©ng cÃ¡c yÃªu cáº§u sau:

- **PHP**: Tá»‘i thiá»ƒu phiÃªn báº£n 8.0.
- **Composer**: Tá»‘i thiá»ƒu phiÃªn báº£n 2.8.4.
- **npm**: Tá»‘i thiá»ƒu phiÃªn báº£n 11.0.0.

Viá»‡c Ä‘áº£m báº£o cÃ¡c cÃ´ng cá»¥ trÃªn Ä‘Ã£ Ä‘Æ°á»£c cÃ i Ä‘áº·t Ä‘Ãºng phiÃªn báº£n khÃ´ng chá»‰ giÃºp báº¡n trÃ¡nh gáº·p pháº£i lá»—i trong quÃ¡ trÃ¬nh cÃ i Ä‘áº·t mÃ  cÃ²n Ä‘áº£m báº£o á»©ng dá»¥ng hoáº¡t Ä‘á»™ng á»•n Ä‘á»‹nh.

---

#### **CÃ¡c BÆ°á»›c CÃ i Äáº·t**

Báº¯t Ä‘áº§u báº±ng cÃ¡ch má»Ÿ terminal hoáº·c command prompt vÃ  thá»±c hiá»‡n cÃ¡c lá»‡nh sau:

```bash
git clone https://github.com/mttk2004/phpure.git
cd phpure
```

- **`git clone`**: Táº£i toÃ n bá»™ mÃ£ nguá»“n `phpure` tá»« GitHub vá» mÃ¡y tÃ­nh cá»§a báº¡n.
- **`cd phpure`**: Äiá»u hÆ°á»›ng Ä‘áº¿n thÆ° má»¥c chá»©a mÃ£ nguá»“n vá»«a táº£i vá».

Sau khi hoÃ n thÃ nh bÆ°á»›c nÃ y, báº¡n Ä‘Ã£ sáºµn sÃ ng tiáº¿p tá»¥c vá»›i cÃ¡c bÆ°á»›c thiáº¿t láº­p dá»± Ã¡n vÃ  cÃ i Ä‘áº·t phá»¥ thuá»™c.

---

### **2. Cáº¥u HÃ¬nh Dá»± Ãn** âš™ï¸

Äá»ƒ `phpure` hoáº¡t Ä‘á»™ng chÃ­nh xÃ¡c, báº¡n cáº§n thá»±c hiá»‡n má»™t sá»‘ bÆ°á»›c cáº¥u hÃ¬nh cÆ¡ báº£n sau khi táº£i mÃ£ nguá»“n.

---

#### **CÃ i Äáº·t Phá»¥ Thuá»™c Vá»›i Composer vÃ  npm**

Sá»­ dá»¥ng cÃ¡c lá»‡nh sau Ä‘á»ƒ cÃ i Ä‘áº·t toÃ n bá»™ cÃ¡c gÃ³i phá»¥ thuá»™c cáº§n thiáº¿t:

```bash
composer install
npm install
```

- **`composer install`**: Táº£i vá» táº¥t cáº£ cÃ¡c thÆ° viá»‡n PHP cáº§n thiáº¿t Ä‘á»ƒ dá»± Ã¡n hoáº¡t Ä‘á»™ng.
- **`npm install`**: CÃ i Ä‘áº·t cÃ¡c gÃ³i front-end há»— trá»£ giao diá»‡n hoáº·c cÃ¡c cÃ´ng cá»¥ build.

Hai lá»‡nh nÃ y sáº½ Ä‘áº£m báº£o ráº±ng báº¡n cÃ³ Ä‘áº§y Ä‘á»§ cÃ´ng cá»¥ Ä‘á»ƒ phÃ¡t triá»ƒn vÃ  váº­n hÃ nh á»©ng dá»¥ng.

---

#### **Cáº¥u HÃ¬nh File `.env`**

Dá»± Ã¡n sá»­ dá»¥ng file `.env` Ä‘á»ƒ lÆ°u trá»¯ cÃ¡c thÃ´ng tin cáº¥u hÃ¬nh quan trá»ng nhÆ° thÃ´ng tin cÆ¡ sá»Ÿ dá»¯ liá»‡u, mÃ´i trÆ°á»ng á»©ng dá»¥ng, vÃ  cÃ¡c thÃ´ng sá»‘ khÃ¡c. Äá»ƒ táº¡o file `.env`, thá»±c hiá»‡n lá»‡nh sau:

```bash
cp .env.example .env
```

Tiáº¿p theo, má»Ÿ file `.env` vá»«a táº¡o vÃ  cáº­p nháº­t cÃ¡c thÃ´ng sá»‘ phÃ¹ há»£p vá»›i mÃ´i trÆ°á»ng cá»§a báº¡n. DÆ°á»›i Ä‘Ã¢y lÃ  má»™t vÃ­ dá»¥ vá» cáº¥u hÃ¬nh cÆ¡ sá»Ÿ dá»¯ liá»‡u:

```env
# APP
APP_ENV=development

# DATABASE
DB_ADAPTER=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_NAME=my_database
DB_USER=root
DB_PASS=
DB_CHARSET=utf8mb4
```

Má»™t vÃ i lÆ°u Ã½ quan trá»ng:
- File `.env` chá»©a cÃ¡c thÃ´ng tin nháº¡y cáº£m, nhÆ° máº­t kháº©u cÆ¡ sá»Ÿ dá»¯ liá»‡u, nÃªn báº¡n cáº§n báº£o máº­t vÃ  trÃ¡nh chia sáº» cÃ´ng khai.
- `phpure` Ä‘Ã£ tá»± Ä‘á»™ng thÃªm `.env` vÃ o `.gitignore`, giÃºp báº¡n trÃ¡nh táº£i file nÃ y lÃªn GitHub.

---

#### **Cáº¥u HÃ¬nh Phinx**

`phpure` sá»­ dá»¥ng **Phinx**, má»™t cÃ´ng cá»¥ quáº£n lÃ½ cÆ¡ sá»Ÿ dá»¯ liá»‡u máº¡nh máº½, Ä‘á»ƒ thá»±c hiá»‡n cÃ¡c tÃ¡c vá»¥ nhÆ° táº¡o báº£ng, thÃªm cá»™t, hoáº·c sá»­a Ä‘á»•i cáº¥u trÃºc cÆ¡ sá»Ÿ dá»¯ liá»‡u.

Cáº¥u hÃ¬nh cá»§a Phinx Ä‘Æ°á»£c lÆ°u trong file `phinx.php`. Tuy nhiÃªn, báº¡n khÃ´ng cáº§n chá»‰nh sá»­a trá»±c tiáº¿p file nÃ y vÃ¬ táº¥t cáº£ thÃ´ng tin Ä‘Ã£ Ä‘Æ°á»£c tá»± Ä‘á»™ng cáº¥u hÃ¬nh thÃ´ng qua file `.env`.

Phinx lÃ  má»™t pháº§n quan trá»ng trong viá»‡c quáº£n lÃ½ cÆ¡ sá»Ÿ dá»¯ liá»‡u cá»§a `phpure`. NÃ³ giÃºp tá»± Ä‘á»™ng hÃ³a quy trÃ¬nh, giáº£m thiá»ƒu cÃ¡c thao tÃ¡c thá»§ cÃ´ng vÃ  Ä‘áº£m báº£o tÃ­nh nháº¥t quÃ¡n. Trong pháº§n tiáº¿p theo, chÃºng ta sáº½ Ä‘i sÃ¢u hÆ¡n vÃ o cÃ¡ch sá»­ dá»¥ng Phinx Ä‘á»ƒ quáº£n lÃ½ cÆ¡ sá»Ÿ dá»¯ liá»‡u hiá»‡u quáº£.

--- 

HoÃ n thÃ nh cÃ¡c bÆ°á»›c trÃªn, báº¡n Ä‘Ã£ sáºµn sÃ ng Ä‘á»ƒ báº¯t Ä‘áº§u hÃ nh trÃ¬nh phÃ¡t triá»ƒn vá»›i `phpure`! ğŸš€

### **3. Cáº¥u TrÃºc ThÆ° Má»¥c** ğŸ“‚

Tiáº¿p theo, hÃ£y tÃ¬m hiá»ƒu cáº¥u trÃºc thÆ° má»¥c cá»§a `phpure` Ä‘á»ƒ hiá»ƒu rÃµ hÆ¡n vá» cÃ¡ch tá»• chá»©c vÃ  quáº£n lÃ½ dá»± Ã¡n.

Cáº¥u trÃºc thÆ° má»¥c cá»§a **phpure** Ä‘Æ°á»£c thiáº¿t káº¿ nháº±m Ä‘áº£m báº£o tÃ­nh nháº¥t quÃ¡n, dá»… hiá»ƒu, vÃ  kháº£ nÄƒng má»Ÿ rá»™ng tá»‘i Æ°u. MÃ´ hÃ¬nh MVC (Model-View-Controller) Ä‘Æ°á»£c Ã¡p dá»¥ng lÃ m ná»n táº£ng, giÃºp tÃ¡ch biá»‡t cÃ¡c thÃ nh pháº§n xá»­ lÃ½ logic, giao diá»‡n, vÃ  dá»¯ liá»‡u má»™t cÃ¡ch rÃµ rÃ ng. Äiá»u nÃ y khÃ´ng chá»‰ giÃºp quáº£n lÃ½ dá»± Ã¡n hiá»‡u quáº£ mÃ  cÃ²n táº¡o tiá»n Ä‘á» Ä‘á»ƒ má»Ÿ rá»™ng khi á»©ng dá»¥ng phÃ¡t triá»ƒn.

#### **ThÆ° má»¥c `app/`**
ThÆ° má»¥c nÃ y chá»©a pháº§n lá»›n logic á»©ng dá»¥ng. CÃ¡c thÃ nh pháº§n trong thÆ° má»¥c nÃ y bao gá»“m:
- `Controllers/`: Chá»©a cÃ¡c lá»›p controller xá»­ lÃ½ logic cá»§a á»©ng dá»¥ng, nháº­n yÃªu cáº§u tá»« ngÆ°á»i dÃ¹ng, thá»±c thi logic vÃ  tráº£ vá» pháº£n há»“i.
- `Listeners/`: Táº­p há»£p cÃ¡c lá»›p láº¯ng nghe vÃ  xá»­ lÃ½ sá»± kiá»‡n do á»©ng dá»¥ng hoáº·c há»‡ thá»‘ng kÃ­ch hoáº¡t.
- `Middlewares/`: Chá»©a cÃ¡c lá»›p middleware Ä‘á»ƒ xá»­ lÃ½ yÃªu cáº§u HTTP trÆ°á»›c hoáº·c sau khi Ä‘áº¿n controller (nhÆ° xÃ¡c thá»±c, kiá»ƒm tra quyá»n truy cáº­p).
- `Models/`: Chá»©a cÃ¡c lá»›p model chá»‹u trÃ¡ch nhiá»‡m tÆ°Æ¡ng tÃ¡c vá»›i cÆ¡ sá»Ÿ dá»¯ liá»‡u, quáº£n lÃ½ dá»¯ liá»‡u á»©ng dá»¥ng.
- `events.php`: File Ä‘Äƒng kÃ½ vÃ  quáº£n lÃ½ cÃ¡c sá»± kiá»‡n cá»§a á»©ng dá»¥ng, giÃºp báº¡n dá»… dÃ ng káº¿t ná»‘i sá»± kiá»‡n vá»›i cÃ¡c listener tÆ°Æ¡ng á»©ng.
- `routes.php`: File Ä‘á»‹nh nghÄ©a táº¥t cáº£ cÃ¡c tuyáº¿n Ä‘Æ°á»ng (routes) cá»§a á»©ng dá»¥ng, Ã¡nh xáº¡ URL tá»›i controller vÃ  phÆ°Æ¡ng thá»©c tÆ°Æ¡ng á»©ng.

#### **ThÆ° má»¥c `core/`**
ÄÃ¢y lÃ  pháº§n "xÆ°Æ¡ng sá»‘ng" cá»§a framework, chá»©a cÃ¡c lá»›p cá»‘t lÃµi:
- `Http/`:
    - `Middleware.php`: Quáº£n lÃ½ vÃ  Ä‘Äƒng kÃ½ cÃ¡c middleware.
    - `Request.php`: Xá»­ lÃ½ thÃ´ng tin tá»« yÃªu cáº§u HTTP, bao gá»“m dá»¯ liá»‡u GET, POST vÃ  thÃ´ng tin tiÃªu Ä‘á» (headers).
    - `Response.php`: Táº¡o pháº£n há»“i HTTP vÃ  gá»­i chÃºng Ä‘áº¿n trÃ¬nh duyá»‡t ngÆ°á»i dÃ¹ng.
    - `ResponseCode.php`: Äá»‹nh nghÄ©a cÃ¡c mÃ£ tráº¡ng thÃ¡i HTTP phá»• biáº¿n nhÆ° 200, 404, 500.
    - `Router.php`: Há»‡ thá»‘ng Ä‘á»‹nh tuyáº¿n, Ã¡nh xáº¡ cÃ¡c yÃªu cáº§u URL Ä‘áº¿n controller vÃ  phÆ°Æ¡ng thá»©c tÆ°Æ¡ng á»©ng.
- `App.php`: Lá»›p cá»‘t lÃµi khá»Ÿi Ä‘á»™ng vÃ  quáº£n lÃ½ toÃ n bá»™ á»©ng dá»¥ng, káº¿t ná»‘i cÃ¡c thÃ nh pháº§n vá»›i nhau.
- `Controller.php`: Lá»›p cÆ¡ sá»Ÿ cho táº¥t cáº£ cÃ¡c controller, cung cáº¥p cÃ¡c chá»©c nÄƒng cÆ¡ báº£n nhÆ° render view.
- `Database.php`: Quáº£n lÃ½ káº¿t ná»‘i cÆ¡ sá»Ÿ dá»¯ liá»‡u, thá»±c hiá»‡n cÃ¡c truy váº¥n SQL vÃ  xá»­ lÃ½ dá»¯ liá»‡u.
- `Event.php`: Há»— trá»£ há»‡ thá»‘ng sá»± kiá»‡n, cho phÃ©p kÃ­ch hoáº¡t vÃ  láº¯ng nghe cÃ¡c sá»± kiá»‡n.
- `ExceptionHandler.php`: Quáº£n lÃ½ vÃ  xá»­ lÃ½ cÃ¡c lá»—i (exception) xáº£y ra trong á»©ng dá»¥ng.
- `Logger.php`: Ghi log thÃ´ng tin, lá»—i, vÃ  sá»± kiá»‡n quan trá»ng Ä‘á»ƒ theo dÃµi hoáº¡t Ä‘á»™ng cá»§a á»©ng dá»¥ng.
- `Model.php`: Lá»›p cÆ¡ sá»Ÿ cho cÃ¡c model, há»— trá»£ tÆ°Æ¡ng tÃ¡c cÆ¡ sá»Ÿ dá»¯ liá»‡u thÃ´ng qua ORM hoáº·c truy váº¥n SQL.
- `Session.php`: Quáº£n lÃ½ phiÃªn lÃ m viá»‡c (session), lÆ°u trá»¯ thÃ´ng tin táº¡m thá»i giá»¯a cÃ¡c yÃªu cáº§u cá»§a ngÆ°á»i dÃ¹ng.
- `Storage.php`: Quáº£n lÃ½ lÆ°u trá»¯ file nhÆ° táº£i lÃªn, cache hoáº·c lÆ°u trá»¯ táº¡m thá»i.
- `Twig.php`: TÃ­ch há»£p vÃ  quáº£n lÃ½ template engine Twig, giÃºp táº¡o giao diá»‡n linh hoáº¡t hÆ¡n.
- `Validation.php`: Quáº£n lÃ½ vÃ  thá»±c thi kiá»ƒm tra dá»¯ liá»‡u Ä‘áº§u vÃ o (validation).

#### **ThÆ° má»¥c `database/`**
- `migrations/`: Chá»©a cÃ¡c file quáº£n lÃ½ thay Ä‘á»•i cáº¥u trÃºc cÆ¡ sá»Ÿ dá»¯ liá»‡u (migration), cho phÃ©p Ã¡p dá»¥ng hoáº·c hoÃ n tÃ¡c cÃ¡c thay Ä‘á»•i.
- `seeds/`: Chá»©a cÃ¡c file seeding, dÃ¹ng Ä‘á»ƒ táº¡o dá»¯ liá»‡u máº«u hoáº·c dá»¯ liá»‡u máº·c Ä‘á»‹nh cho á»©ng dá»¥ng.

#### **ThÆ° má»¥c `public/`**
ThÆ° má»¥c nÃ y chá»©a cÃ¡c tá»‡p cÃ´ng khai cÃ³ thá»ƒ truy cáº­p tá»« trÃ¬nh duyá»‡t:
- `assets/`: Chá»©a tÃ i nguyÃªn tÄ©nh nhÆ° CSS, JS, vÃ  hÃ¬nh áº£nh.
- `index.php`: Äiá»ƒm vÃ o chÃ­nh cá»§a á»©ng dá»¥ng, nháº­n vÃ  chuyá»ƒn hÆ°á»›ng táº¥t cáº£ cÃ¡c yÃªu cáº§u tá»›i há»‡ thá»‘ng Ä‘á»‹nh tuyáº¿n.

#### **ThÆ° má»¥c `resources/`**
Táº­p trung vÃ o giao diá»‡n vÃ  tÃ i nguyÃªn giao diá»‡n cá»§a á»©ng dá»¥ng:
- `css/input.css`: Tá»‡p CSS tÃ¹y chá»‰nh, dÃ¹ng Ä‘á»ƒ Ä‘á»‹nh nghÄ©a giao diá»‡n.
- `js/app.js`: Tá»‡p JavaScript tÃ¹y chá»‰nh, quáº£n lÃ½ logic giao diá»‡n Ä‘á»™ng.
- `views/`: Chá»©a cÃ¡c file giao diá»‡n (template/view), giÃºp tÃ¡ch biá»‡t hoÃ n toÃ n logic vÃ  giao diá»‡n.

#### **ThÆ° má»¥c `storage/`**
- `cache/`: Chá»©a dá»¯ liá»‡u táº¡m thá»i hoáº·c cache Ä‘Æ°á»£c táº¡o bá»Ÿi á»©ng dá»¥ng.
- `logs/app.log`: Ghi log hoáº¡t Ä‘á»™ng cá»§a á»©ng dá»¥ng.
- `uploads/`: Chá»©a cÃ¡c file ngÆ°á»i dÃ¹ng táº£i lÃªn.

#### **ThÆ° má»¥c `utils/`**
- `helpers.php`: Chá»©a cÃ¡c hÃ m tiá»‡n Ã­ch cÃ³ thá»ƒ tÃ¡i sá»­ dá»¥ng trÃªn toÃ n bá»™ á»©ng dá»¥ng.

#### **CÃ¡c tá»‡p cáº¥u hÃ¬nh quan trá»ng**
- `.env.example`: File máº«u chá»©a cÃ¡c cáº¥u hÃ¬nh mÃ´i trÆ°á»ng nhÆ° thÃ´ng tin cÆ¡ sá»Ÿ dá»¯ liá»‡u hoáº·c key báº£o máº­t.
- `.gitignore`: Quy Ä‘á»‹nh cÃ¡c file vÃ  thÆ° má»¥c khÃ´ng Ä‘Æ°á»£c theo dÃµi bá»Ÿi Git.
- `.htaccess`: File cáº¥u hÃ¬nh Apache, chuyá»ƒn hÆ°á»›ng má»i yÃªu cáº§u Ä‘áº¿n `index.php`.
- `composer.json`: Danh sÃ¡ch cÃ¡c thÆ° viá»‡n PHP phá»¥ thuá»™c, Ä‘Æ°á»£c quáº£n lÃ½ báº±ng Composer.
- `tailwind.config.js`: File cáº¥u hÃ¬nh Tailwind CSS, Ä‘á»‹nh nghÄ©a cÃ¡c tuá»³ chá»‰nh vá» giao diá»‡n.
- `webpack.config.js`: Cáº¥u hÃ¬nh Webpack Ä‘á»ƒ quáº£n lÃ½ vÃ  Ä‘Ã³ng gÃ³i cÃ¡c tÃ i nguyÃªn nhÆ° CSS, JS.

Vá»›i cáº¥u trÃºc nÃ y, phpure khÃ´ng chá»‰ dá»… sá»­ dá»¥ng mÃ  cÃ²n dá»… má»Ÿ rá»™ng vÃ  báº£o trÃ¬. Má»i thÃ nh pháº§n Ä‘Æ°á»£c tá»• chá»©c cháº·t cháº½ vÃ  rÃµ rÃ ng, táº¡o Ä‘iá»u kiá»‡n cho cÃ¡c láº­p trÃ¬nh viÃªn táº­p trung vÃ o phÃ¡t triá»ƒn mÃ  khÃ´ng bá»‹ phÃ¢n tÃ¡n.

DÆ°á»›i Ä‘Ã¢y lÃ  mÃ´ táº£ chi tiáº¿t vá» tá»«ng thÆ° má»¥c vÃ  file:

```plaintext
phpure/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ Controllers/           # Chá»©a cÃ¡c lá»›p xá»­ lÃ½ logic á»©ng dá»¥ng, nháº­n vÃ  pháº£n há»“i yÃªu cáº§u tá»« ngÆ°á»i dÃ¹ng.
â”‚   â”œâ”€â”€ Listeners/             # Chá»©a cÃ¡c lá»›p láº¯ng nghe vÃ  xá»­ lÃ½ sá»± kiá»‡n trong há»‡ thá»‘ng.
â”‚   â”œâ”€â”€ Middlewares/           # Chá»©a cÃ¡c lá»›p middleware Ä‘á»ƒ xá»­ lÃ½ cÃ¡c yÃªu cáº§u HTTP trÆ°á»›c hoáº·c sau khi tá»›i controller.
â”‚   â”œâ”€â”€ Models/                # Chá»©a cÃ¡c lá»›p mÃ´ hÃ¬nh (model) Ä‘á»ƒ tÆ°Æ¡ng tÃ¡c vá»›i cÆ¡ sá»Ÿ dá»¯ liá»‡u.
â”‚   â”œâ”€â”€ events.php             # File Ä‘Äƒng kÃ½ vÃ  quáº£n lÃ½ cÃ¡c sá»± kiá»‡n trong á»©ng dá»¥ng.
â”‚   â”œâ”€â”€ routes.php             # File Ä‘á»‹nh nghÄ©a cÃ¡c tuyáº¿n Ä‘Æ°á»ng (route) cho á»©ng dá»¥ng.
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ Http/
â”‚   â”‚   â”œâ”€â”€ Middleware.php     # Lá»›p quáº£n lÃ½ middleware, Ä‘Äƒng kÃ½ vÃ  xá»­ lÃ½ cÃ¡c middleware.
â”‚   â”‚   â”œâ”€â”€ Request.php        # Lá»›p xá»­ lÃ½ thÃ´ng tin tá»« yÃªu cáº§u HTTP (request).
â”‚   â”‚   â”œâ”€â”€ Response.php       # Lá»›p táº¡o vÃ  gá»­i pháº£n há»“i HTTP (response).
â”‚   â”‚   â”œâ”€â”€ ResponseCode.php   # Äá»‹nh nghÄ©a cÃ¡c mÃ£ tráº¡ng thÃ¡i HTTP (HTTP status codes).
â”‚   â”‚   â”œâ”€â”€ Router.php         # Lá»›p Ä‘á»‹nh tuyáº¿n, Ã¡nh xáº¡ yÃªu cáº§u HTTP tá»›i controller.
â”‚   â”œâ”€â”€ App.php                # Lá»›p cá»‘t lÃµi cá»§a framework, khá»Ÿi táº¡o vÃ  quáº£n lÃ½ á»©ng dá»¥ng.
â”‚   â”œâ”€â”€ Controller.php         # Lá»›p cÆ¡ sá»Ÿ cho táº¥t cáº£ cÃ¡c controller, há»— trá»£ render view.
â”‚   â”œâ”€â”€ Database.php           # Lá»›p quáº£n lÃ½ káº¿t ná»‘i cÆ¡ sá»Ÿ dá»¯ liá»‡u vÃ  truy váº¥n SQL.
â”‚   â”œâ”€â”€ Event.php              # Quáº£n lÃ½ há»‡ thá»‘ng sá»± kiá»‡n (event) vÃ  cÃ¡c listener.
â”‚   â”œâ”€â”€ ExceptionHandler.php   # Xá»­ lÃ½ cÃ¡c lá»—i (exception) xáº£y ra trong á»©ng dá»¥ng.
â”‚   â”œâ”€â”€ Logger.php             # Lá»›p ghi log thÃ´ng tin, lá»—i vÃ  sá»± kiá»‡n quan trá»ng.
â”‚   â”œâ”€â”€ Model.php              # Lá»›p cÆ¡ sá»Ÿ cho táº¥t cáº£ cÃ¡c model, há»— trá»£ ORM.
â”‚   â”œâ”€â”€ Session.php            # Quáº£n lÃ½ phiÃªn lÃ m viá»‡c (session) cá»§a ngÆ°á»i dÃ¹ng.
â”‚   â”œâ”€â”€ Storage.php            # Quáº£n lÃ½ lÆ°u trá»¯ file, nhÆ° táº£i lÃªn hoáº·c lÆ°u cache.
â”‚   â”œâ”€â”€ Twig.php               # TÃ­ch há»£p vÃ  quáº£n lÃ½ template engine Twig.
â”‚   â”œâ”€â”€ Validation.php         # Quáº£n lÃ½ vÃ  thá»±c hiá»‡n kiá»ƒm tra dá»¯ liá»‡u (validation).
â”œâ”€â”€ database/
â”‚   â”œâ”€â”€ migrations/            # Chá»©a cÃ¡c file quáº£n lÃ½ thay Ä‘á»•i cáº¥u trÃºc cÆ¡ sá»Ÿ dá»¯ liá»‡u (migration).
â”‚   â”œâ”€â”€ seeds/                 # Chá»©a cÃ¡c file táº¡o dá»¯ liá»‡u máº«u (seeding).
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ assets/                # Chá»©a cÃ¡c tÃ i nguyÃªn tÄ©nh nhÆ° CSS, JS, vÃ  hÃ¬nh áº£nh.
â”‚   â”œâ”€â”€ index.php              # File khá»Ÿi táº¡o á»©ng dá»¥ng, lÃ  Ä‘iá»ƒm vÃ o chÃ­nh cá»§a framework.
â”œâ”€â”€ resources/
â”‚   â”œâ”€â”€ css/input.css          # Chá»©a file CSS tÃ¹y chá»‰nh cá»§a dá»± Ã¡n.
â”‚   â”œâ”€â”€ js/app.js              # Chá»©a file JavaScript tÃ¹y chá»‰nh cá»§a dá»± Ã¡n.
â”‚   â”œâ”€â”€ views/                 # Chá»©a cÃ¡c file giao diá»‡n (template/view) cá»§a á»©ng dá»¥ng.
â”œâ”€â”€ storage/
â”‚   â”œâ”€â”€ cache/                 # Chá»©a dá»¯ liá»‡u cache Ä‘Æ°á»£c táº¡o bá»Ÿi á»©ng dá»¥ng.
â”‚   â”œâ”€â”€ logs/app.log           # File ghi log cá»§a á»©ng dá»¥ng.
â”‚   â”œâ”€â”€ uploads/               # Chá»©a cÃ¡c file Ä‘Æ°á»£c táº£i lÃªn tá»« ngÆ°á»i dÃ¹ng.
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ helpers.php            # Chá»©a cÃ¡c hÃ m tiá»‡n Ã­ch Ä‘Æ°á»£c sá»­ dá»¥ng trong toÃ n bá»™ dá»± Ã¡n.
â”œâ”€â”€ .env.example               # File máº«u cáº¥u hÃ¬nh mÃ´i trÆ°á»ng, chá»©a thÃ´ng tin káº¿t ná»‘i vÃ  thiáº¿t láº­p cÆ¡ báº£n.
â”œâ”€â”€ .gitignore                 # File Ä‘á»‹nh nghÄ©a cÃ¡c tá»‡p/thÆ° má»¥c bá»‹ Git bá» qua.
â”œâ”€â”€ .htaccess                  # File cáº¥u hÃ¬nh Apache, chuyá»ƒn hÆ°á»›ng táº¥t cáº£ yÃªu cáº§u tá»›i index.php.
â”œâ”€â”€ composer.json              # File cáº¥u hÃ¬nh Composer, liá»‡t kÃª cÃ¡c thÆ° viá»‡n phá»¥ thuá»™c.
â”œâ”€â”€ LICENSE                    # File chá»©a thÃ´ng tin báº£n quyá»n cá»§a dá»± Ã¡n.
â”œâ”€â”€ package.json               # File cáº¥u hÃ¬nh npm, liá»‡t kÃª cÃ¡c gÃ³i JavaScript phá»¥ thuá»™c.
â”œâ”€â”€ phinx.php                  # File cáº¥u hÃ¬nh Phinx cho viá»‡c quáº£n lÃ½ cÆ¡ sá»Ÿ dá»¯ liá»‡u.
â”œâ”€â”€ phpcs.xml                  # File cáº¥u hÃ¬nh chuáº©n mÃ£ nguá»“n PHP.
â”œâ”€â”€ postcss.config.js          # File cáº¥u hÃ¬nh PostCSS.
â”œâ”€â”€ README.md                  # HÆ°á»›ng dáº«n sá»­ dá»¥ng framework `phpure`.
â”œâ”€â”€ tailwind.config.js         # File cáº¥u hÃ¬nh Tailwind CSS.
â”œâ”€â”€ webpack.config.js          # File cáº¥u hÃ¬nh Webpack cho viá»‡c Ä‘Ã³ng gÃ³i tÃ i nguyÃªn.
```

---

## **TÄƒng Tá»‘c** ğŸš€

Äá»ƒ thá»±c sá»± hiá»ƒu rÃµ vÃ  táº­n dá»¥ng tá»‘i Ä‘a `phpure`, báº¡n cáº§n hiá»ƒu rÃµ má»™t sá»‘ khÃ¡i niá»‡m cÆ¡ báº£n vÃ  cÃ¡ch 
hoáº¡t Ä‘á»™ng cá»§a framework. Äáº§u tiÃªn lÃ  **vÃ²ng Ä‘á»i cá»§a request**.

### **1. Luá»“ng hoáº¡t Ä‘á»™ng chi tiáº¿t cá»§a framework vÃ  mÃ´ hÃ¬nh MVC - VÃ²ng Äá»i Cá»§a Request**

Framework cá»§a chÃºng ta hoáº¡t Ä‘á»™ng dá»±a trÃªn mÃ´ hÃ¬nh MVC (Model-View-Controller), má»™t kiáº¿n trÃºc phá»• biáº¿n trong phÃ¡t triá»ƒn web giÃºp tÃ¡ch biá»‡t rÃµ rÃ ng cÃ¡c pháº§n cá»§a á»©ng dá»¥ng. **Model** chá»‹u trÃ¡ch nhiá»‡m quáº£n lÃ½ dá»¯ liá»‡u vÃ  logic kinh doanh, **View** quáº£n lÃ½ giao diá»‡n ngÆ°á»i dÃ¹ng, cÃ²n **Controller** lÃ  cáº§u ná»‘i giá»¯a Model vÃ  View, xá»­ lÃ½ cÃ¡c yÃªu cáº§u tá»« ngÆ°á»i dÃ¹ng vÃ  tráº£ vá» káº¿t quáº£ phÃ¹ há»£p.


#### **Tiáº¿p nháº­n request:**  
   Má»i request tá»« trÃ¬nh duyá»‡t Ä‘Æ°á»£c gá»­i Ä‘áº¿n file `index.php` trong thÆ° má»¥c `public`. ÄÃ¢y lÃ  Ä‘iá»ƒm vÃ o chÃ­nh cá»§a á»©ng dá»¥ng. Táº¡i Ä‘Ã¢y, framework Ä‘Æ°á»£c khá»Ÿi cháº¡y thÃ´ng qua phÆ°Æ¡ng thá»©c `App::bootstrap()`, nÆ¡i cÃ¡c thÃ nh pháº§n quan trá»ng nhÆ° router, middleware, vÃ  session Ä‘Æ°á»£c cáº¥u hÃ¬nh.
#### **Router phÃ¢n tÃ­ch request:**  
   Sau khi khá»Ÿi Ä‘á»™ng, router chá»‹u trÃ¡ch nhiá»‡m Ã¡nh xáº¡ URL tá»« request Ä‘áº¿n cÃ¡c route Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trÆ°á»›c trong file `routes.php`. Router kiá»ƒm tra xem URL yÃªu cáº§u cÃ³ khá»›p vá»›i báº¥t ká»³ route nÃ o Ä‘Ã£ Ä‘Äƒng kÃ½ khÃ´ng. Náº¿u khÃ´ng tÃ¬m tháº¥y, nÃ³ sáº½ tráº£ vá» lá»—i 404.
#### **Xá»­ lÃ½ middleware:**  
   TrÆ°á»›c khi router gá»i controller, middleware Ä‘Æ°á»£c kÃ­ch hoáº¡t. Middleware lÃ  cÃ¡c lá»›p xá»­ lÃ½ trung gian, dÃ¹ng Ä‘á»ƒ kiá»ƒm tra hoáº·c thay Ä‘á»•i request trÆ°á»›c khi chuyá»ƒn tiáº¿p. VÃ­ dá»¥, middleware cÃ³ thá»ƒ kiá»ƒm tra xem ngÆ°á»i dÃ¹ng Ä‘Ã£ Ä‘Äƒng nháº­p chÆ°a (auth) hoáº·c Ä‘áº£m báº£o ráº±ng chá»‰ khÃ¡ch chÆ°a Ä‘Äƒng nháº­p má»›i cÃ³ thá»ƒ truy cáº­p má»™t sá»‘ trang nháº¥t Ä‘á»‹nh (guest). Náº¿u middleware phÃ¡t hiá»‡n lá»—i, request sáº½ bá»‹ dá»«ng láº¡i vÃ  tráº£ vá» pháº£n há»“i ngay táº¡i Ä‘Ã³.
#### **Gá»i controller:**  
   Sau khi vÆ°á»£t qua middleware, router gá»i controller Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh cÃ¹ng vá»›i action (phÆ°Æ¡ng thá»©c cá»¥ thá»ƒ). Controller nháº­n cÃ¡c thÃ´ng tin tá»« request, xá»­ lÃ½ logic nghiá»‡p vá»¥, vÃ  chuáº©n bá»‹ dá»¯ liá»‡u Ä‘á»ƒ truyá»n cho View. VÃ­ dá»¥, má»™t controller cÃ³ thá»ƒ láº¥y dá»¯ liá»‡u ngÆ°á»i dÃ¹ng tá»« cÆ¡ sá»Ÿ dá»¯ liá»‡u hoáº·c kiá»ƒm tra Ä‘iá»u kiá»‡n kinh doanh trÆ°á»›c khi tiáº¿p tá»¥c.
#### **Káº¿t ná»‘i vá»›i View thÃ´ng qua Twig:**  
   Sau khi xá»­ lÃ½, controller thÆ°á»ng káº¿t thÃºc báº±ng viá»‡c gá»i má»™t template Ä‘á»ƒ hiá»ƒn thá»‹ giao diá»‡n. Framework sá»­ dá»¥ng Twig, má»™t cÃ´ng cá»¥ template máº¡nh máº½, Ä‘á»ƒ káº¿t há»£p dá»¯ liá»‡u tá»« controller vÃ  cÃ¡c template HTML Ä‘Ã£ Ä‘á»‹nh nghÄ©a. Twig cung cáº¥p nhiá»u tÃ­nh nÄƒng há»¯u Ã­ch nhÆ° vÃ²ng láº·p, kiá»ƒm tra Ä‘iá»u kiá»‡n, vÃ  káº¿ thá»«a layout, giÃºp viá»‡c xÃ¢y dá»±ng giao diá»‡n dá»… dÃ ng vÃ  linh hoáº¡t.
#### **Tráº£ vá» response:**  
   Sau khi Twig táº¡o ra giao diá»‡n hoÃ n chá»‰nh (HTML), framework gá»­i ná»™i dung Ä‘Ã³ trá»Ÿ láº¡i trÃ¬nh duyá»‡t dÆ°á»›i dáº¡ng response. NgÆ°á»i dÃ¹ng sáº½ tháº¥y trang web Ä‘Æ°á»£c hiá»ƒn thá»‹, hoÃ n chá»‰nh vá»›i dá»¯ liá»‡u Ä‘Ã£ Ä‘Æ°á»£c xá»­ lÃ½ tá»« controller.

#### **TÃ³m láº¡i**

VÃ²ng Ä‘á»i cá»§a má»™t request trong framework bao gá»“m cÃ¡c bÆ°á»›c tá»« tiáº¿p nháº­n URL, phÃ¢n tÃ­ch vÃ  Ã¡nh xáº¡ route, kiá»ƒm tra middleware, xá»­ lÃ½ logic trong controller, vÃ  cuá»‘i cÃ¹ng lÃ  render giao diá»‡n thÃ´ng qua Twig. Kiáº¿n trÃºc MVC Ä‘áº£m báº£o má»—i pháº§n cá»§a á»©ng dá»¥ng cÃ³ nhiá»‡m vá»¥ rÃµ rÃ ng, giÃºp mÃ£ nguá»“n dá»… hiá»ƒu, dá»… báº£o trÃ¬ vÃ  má»Ÿ rá»™ng. Vá»›i luá»“ng hoáº¡t Ä‘á»™ng máº¡ch láº¡c nÃ y, ngay cáº£ ngÆ°á»i má»›i báº¯t Ä‘áº§u cÅ©ng cÃ³ thá»ƒ nhanh chÃ³ng hiá»ƒu Ä‘Æ°á»£c cÃ¡ch á»©ng dá»¥ng hoáº¡t Ä‘á»™ng vÃ  báº¯t tay vÃ o phÃ¡t triá»ƒn cÃ¡c tÃ­nh nÄƒng má»›i.

NgoÃ i ra, tÃ´i khuyÃªn báº¡n nÃªn Ä‘á»c qua mÃ£ nguá»“n cá»§a `phpure` Ä‘á»ƒ hiá»ƒu rÃµ hÆ¡n vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a framework. ÄÃ¢y lÃ  cÃ¡ch tá»‘t nháº¥t Ä‘á»ƒ há»c há»i vÃ  náº¯m vá»¯ng kiáº¿n thá»©c.

---

_Last updated: January 13, 2025_
